\documentclass[12pt]{article}
\usepackage{pmmeta}
\pmcanonicalname{ProofOfHahnBanachTheorem}
\pmcreated{2013-03-22 13:31:58}
\pmmodified{2013-03-22 13:31:58}
\pmowner{paolini}{1187}
\pmmodifier{paolini}{1187}
\pmtitle{proof of Hahn-Banach theorem}
\pmrecord{8}{34127}
\pmprivacy{1}
\pmauthor{paolini}{1187}
\pmtype{Proof}
\pmcomment{trigger rebuild}
\pmclassification{msc}{46B20}

\endmetadata

% this is the default PlanetMath preamble.  as your knowledge
% of TeX increases, you will probably want to edit this, but
% it should be fine as is for beginners.

% almost certainly you want these
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{amsfonts}

% used for TeXing text within eps files
%\usepackage{psfrag}
% need this for including graphics (\includegraphics)
%\usepackage{graphicx}
% for neatly defining theorems and propositions
%\usepackage{amsthm}
% making logically defined graphics
%%%\usepackage{xypic}

% there are many more packages, add them here as you need them

% define commands here
\begin{document}
Consider the family of all possible extensions of $f$, i.e. the set $\mathcal F$ of all pairings $(F,H)$ where $H$ is a vector subspace of $X$ containing $U$ and $F$ is a linear map $F\colon H \to K$ such that $F(u)=f(u)$ for all $u\in U$ and $\vert F(u)\vert \le p(u)$ for all $u\in H$. 
$\mathcal F$ is naturally endowed with an partial order relation: given $(F_1,H_1),(F_2,H_2)\in \mathcal F$ we say 
that $(F_1,H_1)\le (F_2,H_2)$ iff $F_2$ is an extension of $F_1$ that is
$H_1\subset H_2$ and $F_2(u)=F_1(u)$ for all $u\in H_1$. 
We want to apply Zorn's Lemma to $\mathcal F$ so we are going to prove that every chain in $\mathcal F$ has an upper bound.

Let $(F_i,H_i)$ be the elements of a chain in $\mathcal F$. Define $H=\bigcup_i H_i$. Clearly $H$ is a vector subspace of $V$ and contains $U$. Define $F\colon H \to K$ by ``merging'' all $F_i$'s as follows. Given $u\in H$ there exists $i$ such that $u\in H_i$: define $F(u)=F_i(u)$. This is a good definition since if both $H_i$ and $H_j$ contain $u$ then $F_i(u)=F_j(u)$ in fact either $(F_i,H_i)\le (F_j,H_j)$ or $(F_j,H_j)\le (F_i,H_i)$.
Notice that the map $F$ is linear, in fact given any two vectors $u,v\in H$ there exists $i$ such that $u,v\in H_i$ and hence $F(\alpha u + \beta v) = F_i( \alpha u + \beta v) = \alpha F_i(u) + \beta F_i(v) =  \alpha F(u) + \beta F(v)$.
The so constructed pair $(F,H)$ is hence an upper bound for the chain 
$(F_i,H_i)$ because $F$ is an extension of every $F_i$. 

Zorn's Lemma then assures that there exists a maximal element $(F,H)\in \mathcal F$. To complete the proof we will only need to prove that $H=V$. 

Suppose by contradiction that there exists $v\in V\setminus H$. Then consider the vector space $H'= H+ Kv=\{ u+tv\colon
u\in H,\quad t\in K\}$ ($H'$ is the vector space generated by $H$ and $v$).
Choose 
\[
  \lambda = \sup_{x\in H}\{ F(x)-p(x-v)\}.
\]
We notice that given any $x,y\in H$ it holds
\[
  F(x)-F(y) = F(x-y) \le p(x-y) = p (x-v+v-y) \le p(x-v) + p(y-v) 
\]
i.e.
\[
  F(x)-p(x-v) \le F(y) + p(y-v);
\]
in particular we find that $\lambda < +\infty$ and for all $y\in H$ it holds
\[
  F(y)-p(y-v) \le \lambda \le F(y)+p(y-v).
\]

Define $F'\colon H'\to K$ as follows:
\[
  F'(u+tv) = F(u) + t\lambda.
\]

Clearly $F'$ is a linear functional.
We have
\[
 \lvert F'(u+tv)\rvert = \lvert F(u) + t\lambda \rvert 
= \lvert t\rvert \, \lvert F(u/t) + \lambda \rvert
\]
and by letting $y=-u/t$ by the previous estimates on $\lambda$ we obtain
\[
  F(u/t) + \lambda \le F(u/t) + F(-u/t) + p(-u/t-v ) = p(u/t+v)
\]
and
\[
  F(u/t) + \lambda \ge F(u/t) + F(-u/t) - p(-u/t -v) = -p(u/t+v)
\]
which together give
\[
  \lvert F(u/t) + \lambda \rvert \le p(u/t+v)
\]
and hence
\[
  \lvert F'(u+tv) \rvert \le \lvert t\rvert  p(u/t+v) = p(u+tv).
\]

So we have proved that $(F',H')\in\mathcal F$ and $(F',H')> (F,H)$  which is a contradiction.
%%%%%
%%%%%
\end{document}
